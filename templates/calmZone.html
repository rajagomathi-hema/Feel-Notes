<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calmZone</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/index.css">
    <style>
        body {
            background: linear-gradient(to bottom right, #fffde7, #c8e6c9);
        }

        /* Floating emojis */
        .float-emoji {
            position: absolute;
            opacity: 0.85;
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) scale(1.3);
                opacity: 0;
            }
        }

        /* Fade away effect for released thought */
        .fade-away {
            animation: fadeSmoke 2s ease-out forwards;
        }

        @keyframes fadeSmoke {
            0% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(-40px) scale(1.2);
            }
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light bg-body-tertiary border-bottom shadow-sm">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <a class="navbar-brand" href="index.html">âœ¨ Feel Notes</a>

            <!-- Center Create Button -->
            <button class="btn btn-outline-primary btn-sm rounded-pill" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasCreate" aria-controls="offcanvasCreate" style="font-size: 10px;">
                <i class="bi bi-plus-lg me-1"></i> Create Note
            </button>

            <ul class="nav" style="font-size: 13px;">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="topThoughts.html">Top Thoughts</a></li>
                <li class="nav-item"><a class="nav-link" href="calmZone.html">Calm Zone</a></li>
            </ul>

            <div class="d-flex column-gap-2 align-items-center">
                <a class="nav-link" style="font-size: 1.3rem;" href="save.html"><i class="bi bi-bookmark"></i></i></a>

                <button class="btn-icon" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMood"
                    aria-controls="offcanvasMood">
                    <i class="bi bi-emoji-sunglasses"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main container -->
    <div class="container text-center p-4 rounded-4 shadow-lg bg-white bg-opacity-75 my-3" 
        style="max-width: 420px; backdrop-filter: blur(10px); z-index: 2;">
        <h3 class="text-success fw-semibold mb-3">ğŸŒ Calm Zone ğŸŒ</h3>
        <p id="quote" class="fst-italic text-secondary mb-3">â€œPeace begins with a smile.â€</p>

        <div class="mb-3">
            <label for="thoughtInput" class="form-label fw-semibold text-muted">Share what's on your mind:</label>
            <textarea id="thoughtInput" class="form-control bg-light border-0 shadow-sm" rows="3"
                placeholder="Write and release your thoughts..."></textarea>
        </div>

        <button id="releaseBtn" class="btn btn-success px-4 mb-3 rounded-3">Release</button>

        <div id="releaseText" class="fw-semibold text-success mb-2" style="display:none;"></div>

        <p class="small text-muted">Stay bright, stay peaceful ğŸŒ»</p>
    </div>
    <!-- MODAL: Full Note View -->
        <div class="modal fade" id="noteModal" tabindex="-1" aria-labelledby="noteModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="noteModalLabel">Full Note</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="noteModalBody">
                        <!-- Content dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- OFFCANVAS: Note Creation -->
        <div class="offcanvas offcanvas-top" tabindex="-1" id="offcanvasCreate" aria-labelledby="offcanvasCreateLabel"
            style="height: 50vh;">
            <div class="offcanvas-header pb-0">
                <h5 id="offcanvasCreateLabel" class="fw-semibold">Create a Note</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body pt-2">
                <textarea class="form-control mb-3" rows="3" placeholder="What's on your mind?"></textarea>

                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex flex-wrap gap-1 emoji-btn">
                        <input type="radio" class="btn-check" name="emoji" id="emoji1" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji1">ğŸ˜€</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji2" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji2">ğŸ˜</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji3" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji3">ğŸ˜’</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji4" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji4">ğŸ˜˜</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji5" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji5">ğŸ˜‚</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji6" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji6">ğŸ˜</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji7" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji7">ğŸ˜›</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji8" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji8">ğŸ˜­</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji9" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji9">ğŸ˜‡</label>
                        <input type="radio" class="btn-check" name="emoji" id="emoji10" autocomplete="off">
                        <label class="btn btn-outline-primary" for="emoji10">ğŸ˜…</label>

                    </div>
                    <button class="btn btn-primary btn-sm">Whisper it</button>
                </div>
            </div>
        </div>

        <!-- OFFCANVAS: Mood of the Day -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasMood" aria-labelledby="offcanvasMoodLabel">
            <div class="offcanvas-header">
                <h5 id="offcanvasMoodLabel" class="fw-semibold">Mood of the Day</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body text-center">
                <h6>Todayâ€™s Mood Chart</h6>
                <div class="d-flex justify-content-center mb-3">
                    <canvas id="moodChart" width="200" height="200"></canvas>
                </div>
                <hr>
                <h6>Quote of the Day</h6>
                <p>"Keep calm and feel your emotions."</p>
                <button class="btn btn-outline-primary btn-sm mt-3">Inspire Me</button>
            </div>
        </div>
    </div>




    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script>
        const emojis = ["ğŸŒ¸", "ğŸŒ¿", "â˜€ï¸", "ğŸŒ¼", "ğŸ•Šï¸", "ğŸ’–", "ğŸŒˆ", "âœ¨", "ğŸ’«", "ğŸŒ»", "ğŸ’›"];
        const quotes = [
            "â€œPeace begins with a smile.â€",
            "â€œLet your worries drift away.â€",
            "â€œYou are light and calm.â€",
            "â€œHappiness grows where peace lives.â€",
            "â€œBreathe in sunshine, exhale stress.â€",
            "â€œChoose calm, choose joy.â€",
            "â€œYou deserve peace and happiness.â€"
        ];

        const quoteEl = document.getElementById('quote');
        const releaseBtn = document.getElementById('releaseBtn');
        const thoughtInput = document.getElementById('thoughtInput');
        const releaseText = document.getElementById('releaseText');

        // ğŸŒ¿ Change quote every few seconds
        setInterval(() => {
            quoteEl.style.opacity = 0;
            setTimeout(() => {
                quoteEl.textContent = quotes[Math.floor(Math.random() * quotes.length)];
                quoteEl.style.opacity = 1;
            }, 1000);
        }, 6000);

        // ğŸ•Šï¸ Handle Release button click
        releaseBtn.addEventListener('click', () => {
            const text = thoughtInput.value.trim();
            if (text) {
                releaseText.textContent = "ğŸ’­ " + text + " ğŸ’­";
                releaseText.style.display = "block";
                releaseText.classList.add("fade-away");

                for (let i = 0; i < 5; i++) createFloatingEmoji();

                setTimeout(() => {
                    releaseText.style.display = "none";
                    releaseText.classList.remove("fade-away");
                    thoughtInput.value = "";
                }, 2000);
            } else {
                releaseText.textContent = "ğŸ’› Write something to release...";
                releaseText.style.display = "block";
                setTimeout(() => releaseText.style.display = "none", 1500);
            }
        });

        // ğŸŒ¼ Floating emoji creation
        function createFloatingEmoji() {
            const emoji = document.createElement("div");
            emoji.classList.add("float-emoji");
            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = Math.random() * 100 + "%";
            emoji.style.animationDuration = (Math.random() * 6 + 8) + "s";
            emoji.style.fontSize = Math.random() * 12 + 20 + "px";
            document.body.appendChild(emoji);
            setTimeout(() => emoji.remove(), 13000);
        }

        // ğŸŒˆ Background emoji floating slowly
        setInterval(createFloatingEmoji, 1800);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>s
</body>

</html>